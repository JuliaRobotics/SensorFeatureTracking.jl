<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions · SensorFeatureTracking.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="SensorFeatureTracking.jl logo"/></a><h1>SensorFeatureTracking.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li class="current"><a class="toctext" href="func_ref.html">Functions</a><ul class="internal"><li><a class="toctext" href="#Function-Reference-1">Function Reference</a></li><li><a class="toctext" href="#Index-1">Index</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="func_ref.html">Functions</a></li></ul><a class="edit-page" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/master/docs/src/func_ref.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Functions</span><a class="fa fa-bars" href="#"></a></div></header><h2><a class="nav-anchor" id="Function-Reference-1" href="#Function-Reference-1">Function Reference</a></h2><ul><ul><li><a href="func_ref.html#Function-Reference-1">Function Reference</a></li><ul><li><a href="func_ref.html#Common-1">Common</a></li><li><a href="func_ref.html#Block-Matching-Feature-Tracking-1">Block Matching Feature Tracking</a></li><li><a href="func_ref.html#KLT-Feature-Tracking-1">KLT Feature Tracking</a></li><li><a href="func_ref.html#Camera-Models-and-Geometry-1">Camera Models and Geometry</a></li><li><a href="func_ref.html#Inertial-Sensor-Aided-Feature-Tracking-1">Inertial Sensor Aided Feature Tracking</a></li></ul><li><a href="func_ref.html#Index-1">Index</a></li></ul></ul><h3><a class="nav-anchor" id="Common-1" href="#Common-1">Common</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.drawfeatureLine!" href="#SensorFeatureTracking.drawfeatureLine!"><code>SensorFeatureTracking.drawfeatureLine!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">drawfeatureLine!(image,feature1, feature2)</code></pre><p>Draw a line between 2 features.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/Common.jl#L40-L44">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.drawfeatureX!" href="#SensorFeatureTracking.drawfeatureX!"><code>SensorFeatureTracking.drawfeatureX!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">drawfeatureX!(image,feature [,crosslength = 2])</code></pre><p>Draw a + on a feature.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; map(ft-&gt;drawfeatureX!(image, ft, length=5),features)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/Common.jl#L17-L26">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.getApproxBestHarrisInWindow" href="#SensorFeatureTracking.getApproxBestHarrisInWindow"><code>SensorFeatureTracking.getApproxBestHarrisInWindow</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">getApproxBestHarrisInWindow(image,[nfeatures=100, window = 9, k=0.04, stepguess=0.9, threshold = 1e-4])</code></pre><p>Return the n best Harris features in a window</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/KLTTrackingAlgorithms.jl#L420-L424">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.getApproxBestShiTomasi" href="#SensorFeatureTracking.getApproxBestShiTomasi"><code>SensorFeatureTracking.getApproxBestShiTomasi</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">getApproxBestShiTomasi(image,[n=100, windowSize = 9, k=0.04, stepguess=0.4, threshold = 1e-4])</code></pre><p>Return the n aproxamate best Shi Tomasi features in a window</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/Common.jl#L111-L115">source</a></section><h3><a class="nav-anchor" id="Block-Matching-Feature-Tracking-1" href="#Block-Matching-Feature-Tracking-1">Block Matching Feature Tracking</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.compute_sad" href="#SensorFeatureTracking.compute_sad"><code>SensorFeatureTracking.compute_sad</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">compute_sad(image1, image2, off1X, off1Y, off2X, off2Y, REGION_SIZE)</code></pre><p>Compute Sum of Absolute Differences of two regions with size REGION_SIZE.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/BlockMatchingFlow.jl#L26-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.compute_ssd" href="#SensorFeatureTracking.compute_ssd"><code>SensorFeatureTracking.compute_ssd</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">compute_ssd(image1, image2, off1X, off1Y, off2X, off2Y, REGION_SIZE)</code></pre><p>Compute Sum of Squared Differences of two regions with REGION_SIZE.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/BlockMatchingFlow.jl#L42-L47">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.compute_ncc" href="#SensorFeatureTracking.compute_ncc"><code>SensorFeatureTracking.compute_ncc</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">compute_ncc(image1, image2, off1X, off1Y, off2X, off2Y, REGION_SIZE)</code></pre><p>Compute the normalized cross-correlation of two regions with size REGION_SIZE.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/BlockMatchingFlow.jl#L58-L63">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.block_tracker!" href="#SensorFeatureTracking.block_tracker!"><code>SensorFeatureTracking.block_tracker!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">block_tracker(tracker::BlockTracker, image1, image2)</code></pre><p>Track features between two images.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/BlockMatchingFlow.jl#L74-L79">source</a></section><h3><a class="nav-anchor" id="KLT-Feature-Tracking-1" href="#KLT-Feature-Tracking-1">KLT Feature Tracking</a></h3><p>Forward KLT tracking with pyramids</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.ImageTrackerSetup" href="#SensorFeatureTracking.ImageTrackerSetup"><code>SensorFeatureTracking.ImageTrackerSetup</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">ImageTrackerSetup(orgI_setup, corners,[windowSize = 20, downsampleFactor_setup = 2])</code></pre><p>orgI_setup:             Image to do trackingon corners:                List of corners, preferably a returned list from getApproxBestHarrisInWindow() windowSize              Half the size of the window to look for a matching feature. Actual window size is windowSize * 2 + 1, windowSize = 20 will result in a 41x41 window downsampleFactor_setup  downsampleFactor_setup = 2: use pyramid images (first track on a downsampled image, then on the regular image with a smaller windowsize), increases speed. Set downsampleFactor_setup = 1 to use only regular image</p><p>Returns two structures, one of type ImageTrackerVariables and one of type ImageTrackerConstants</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/KLTTrackingAlgorithms.jl#L30-L39">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.trackOneFeature" href="#SensorFeatureTracking.trackOneFeature"><code>SensorFeatureTracking.trackOneFeature</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">trackOneFeature(ITVar, ITConst, corner_i)</code></pre><p>ITVar:   construct of variables of type ImageTrackerVariables ITConst: construct of constants of type ImageTrackerConstants corner_i:index of selected corner in ITVar.p_reference to do tracking on</p><p>Returns nothing, updates p_reference[2,corner_i] with the new coordinates of the tracked feature Does not use orgI_downsample or I_nextFrame_downsample at all, downsampleFactor must be 1</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/KLTTrackingAlgorithms.jl#L265-L274">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.KTL_Tracker!" href="#SensorFeatureTracking.KTL_Tracker!"><code>SensorFeatureTracking.KTL_Tracker!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">KTL_Tracker!(ITVar, ITConst)</code></pre><p>ITVar:   construct of variables of type ImageTrackerVariables ITConst: construct of constants of type ImageTrackerConstants</p><p>Returns nothing, updates p_reference[2,:] with the new coordinates of the tracked features</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/KLTTrackingAlgorithms.jl#L118-L125">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.trackOneFeaturePyramid" href="#SensorFeatureTracking.trackOneFeaturePyramid"><code>SensorFeatureTracking.trackOneFeaturePyramid</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">trackOneFeature(ITVar, ITConst, corner_i)</code></pre><p>ITVar:   construct of variables of type ImageTrackerVariables ITConst: construct of constants of type ImageTrackerConstants corner_i:index of selected corner in ITVar.p_reference to do tracking on</p><p>Returns nothing, updates p_reference[2,corner_i] with the new coordinates of the tracked feature Use orgI_downsample and I_nextFrame_downsample to track features, downsampleFactor must be 2 for now, can be increased in future work</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/KLTTrackingAlgorithms.jl#L150-L159">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.warpping!" href="#SensorFeatureTracking.warpping!"><code>SensorFeatureTracking.warpping!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">warpping!(Iout,Iin,x,y,M)</code></pre><p>Iout:   returned warped image Iin:    image to be warped x:      derivatives kernel on x axis y:      derivatives kernel on y axis M:      affine matrix for template rotation and translation</p><p>Return a warped image</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/KLTTrackingAlgorithms.jl#L362-L372">source</a></section><h3><a class="nav-anchor" id="Camera-Models-and-Geometry-1" href="#Camera-Models-and-Geometry-1">Camera Models and Geometry</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.CameraModelandParameters" href="#SensorFeatureTracking.CameraModelandParameters"><code>SensorFeatureTracking.CameraModelandParameters</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Data structure for a Camera model with parameters. Use <code>CameraModel(width,height,fc,cc,skew,kc)</code> for easy construction.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L3-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.CameraModel" href="#SensorFeatureTracking.CameraModel"><code>SensorFeatureTracking.CameraModel</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">CameraModel(width,height,fc,cc,skew,kc)</code></pre><p>Constructor helper for creating a camera model. </p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L18-L22">source</a></section><h3><a class="nav-anchor" id="Inertial-Sensor-Aided-Feature-Tracking-1" href="#Inertial-Sensor-Aided-Feature-Tracking-1">Inertial Sensor Aided Feature Tracking</a></h3><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.IMU_DATA" href="#SensorFeatureTracking.IMU_DATA"><code>SensorFeatureTracking.IMU_DATA</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Data structure for holding time, gyroscope, and accelerometer data.</p><p><strong>Fields</strong></p><ul><li><p><code>utime</code> – time [μs]</p></li><li><p><code>acc</code>   – accelerometer data</p></li><li><p><code>gyro</code>  – gyroscope data</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L39-L46">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.estimateRotationFromKeypoints" href="#SensorFeatureTracking.estimateRotationFromKeypoints"><code>SensorFeatureTracking.estimateRotationFromKeypoints</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">estimateRotationFromKeypoints(points_a, points_b)</code></pre><p>Estimate the rotation between 2 sets of Keypoints a and be using HornAbsoluteOrientation</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L211-L215">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.predictHomographyIMU!" href="#SensorFeatureTracking.predictHomographyIMU!"><code>SensorFeatureTracking.predictHomographyIMU!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">predictHomographyIMU!(index, current_time, vector_data, CameraK, CameraK_inverse)</code></pre><p>Estimate camera rotation from IMU data and compute predicted homography</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L231-L235">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.integrateGyroBetweenFrames!" href="#SensorFeatureTracking.integrateGyroBetweenFrames!"><code>SensorFeatureTracking.integrateGyroBetweenFrames!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">integrateGyroBetweenFrames!(index, current_time, vector_data)</code></pre><p>Estimate rotations from IMU data between time stamps.</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L177-L181">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="SensorFeatureTracking.HornAbsoluteOrientation" href="#SensorFeatureTracking.HornAbsoluteOrientation"><code>SensorFeatureTracking.HornAbsoluteOrientation</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">HornAbsoluteOrientation(⊽a, ⊽b)</code></pre><p>Compute the rotation between rows of (a and b)::Array{Float64,2}. Rotate b into the frame of a Returns a quaternion, aQb</p></div><a class="source-link" target="_blank" href="https://github.com/dehann/SensorFeatureTracking.jl/blob/74a07e383f2bacface86cadad26425731ded718d/src/SensorCameraGeometryUtils.jl#L72-L78">source</a></section><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="func_ref.html#SensorFeatureTracking.CameraModelandParameters"><code>SensorFeatureTracking.CameraModelandParameters</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.IMU_DATA"><code>SensorFeatureTracking.IMU_DATA</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.CameraModel"><code>SensorFeatureTracking.CameraModel</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.HornAbsoluteOrientation"><code>SensorFeatureTracking.HornAbsoluteOrientation</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.ImageTrackerSetup"><code>SensorFeatureTracking.ImageTrackerSetup</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.KTL_Tracker!"><code>SensorFeatureTracking.KTL_Tracker!</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.block_tracker!"><code>SensorFeatureTracking.block_tracker!</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.compute_ncc"><code>SensorFeatureTracking.compute_ncc</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.compute_sad"><code>SensorFeatureTracking.compute_sad</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.compute_ssd"><code>SensorFeatureTracking.compute_ssd</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.drawfeatureLine!"><code>SensorFeatureTracking.drawfeatureLine!</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.drawfeatureX!"><code>SensorFeatureTracking.drawfeatureX!</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.estimateRotationFromKeypoints"><code>SensorFeatureTracking.estimateRotationFromKeypoints</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.getApproxBestHarrisInWindow"><code>SensorFeatureTracking.getApproxBestHarrisInWindow</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.getApproxBestShiTomasi"><code>SensorFeatureTracking.getApproxBestShiTomasi</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.integrateGyroBetweenFrames!"><code>SensorFeatureTracking.integrateGyroBetweenFrames!</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.predictHomographyIMU!"><code>SensorFeatureTracking.predictHomographyIMU!</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.trackOneFeature"><code>SensorFeatureTracking.trackOneFeature</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.trackOneFeaturePyramid"><code>SensorFeatureTracking.trackOneFeaturePyramid</code></a></li><li><a href="func_ref.html#SensorFeatureTracking.warpping!"><code>SensorFeatureTracking.warpping!</code></a></li></ul><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Home</span></a></footer></article></body></html>
